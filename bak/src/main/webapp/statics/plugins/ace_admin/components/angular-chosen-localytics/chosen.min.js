// Generated by CoffeeScript 1.8.0
(function(){var a=[].indexOf||function(a){for(var b=0,c=this.length;c>b;b++)if(b in this&&this[b]===a)return b;return-1};angular.module("localytics.directives",[]),angular.module("localytics.directives").directive("chosen",["$timeout",function(b){var c,d,e,f;return d=/^\s*(.*?)(?:\s+as\s+(.*?))?(?:\s+group\s+by\s+(.*))?\s+for\s+(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+(.*?)(?:\s+track\s+by\s+(.*?))?$/,c=["noResultsText","allowSingleDeselect","disableSearchThreshold","disableSearch","enableSplitWordSearch","inheritSelectClasses","maxSelectedOptions","placeholderTextMultiple","placeholderTextSingle","searchContains","singleBackstrokeDelete","displayDisabledOptions","displaySelectedOptions","width"],f=function(a){return a.replace(/[A-Z]/g,function(a){return"_"+a.toLowerCase()})},e=function(a){var b;if(angular.isArray(a))return 0===a.length;if(angular.isObject(a))for(b in a)if(a.hasOwnProperty(b))return!1;return!0},{restrict:"A",require:"?ngModel",priority:1,link:function(g,h,i,j){var k,l,m,n,o,p,q,r,s,t,u,v,w;return h.addClass("localytics-chosen"),q=g.$eval(i.chosen)||{},angular.forEach(i,function(b,d){return a.call(c,d)>=0?q[f(d)]=g.$eval(b):void 0}),t=function(){return h.addClass("loading").attr("disabled",!0).trigger("chosen:updated")},u=function(){return h.removeClass("loading").attr("disabled",!1).trigger("chosen:updated")},k=null,l=null,n=!1,o=function(){return k?h.trigger("chosen:updated"):(k=h.chosen(q).data("chosen"),l=k.default_text)},s=function(){return n=!1,h.attr("data-placeholder",l)},m=function(){return n=!0,h.attr("data-placeholder",k.results_none_found).attr("disabled",!0).trigger("chosen:updated")},j?(r=j.$render,j.$render=function(){return r(),o()},i.multiple&&(w=function(){return j.$viewValue},g.$watch(w,j.$render,!0))):o(),i.$observe("disabled",function(){return h.trigger("chosen:updated")}),i.ngOptions&&j?(p=i.ngOptions.match(d),v=p[7],g.$watchCollection(v,function(a,c){var d;return d=b(function(){return angular.isUndefined(a)?t():(n&&s(),u(),e(a)?m():void 0)})}),g.$on("$destroy",function(a){return"undefined"!=typeof timer&&null!==timer?b.cancel(timer):void 0})):void 0}}}])}).call(this);